Ch√†o b·∫°n, t√¥i ƒë√£ ph√¢n t√≠ch to√†n b·ªô ƒë·ªÅ c∆∞∆°ng (KLCN_TH153) v√† t·∫•t c·∫£ c√°c s∆° ƒë·ªì nghi·ªáp v·ª• b·∫°n cung c·∫•p.

B·∫°n c√≥ m·ªôt l·ª£i th·∫ø **c·ª±c k·ª≥ l·ªõn**: to√†n b·ªô giai ƒëo·∫°n "Ph√¢n t√≠ch" v√† "Thi·∫øt k·∫ø" (Use Case, S∆° ƒë·ªì l·ªõp, S∆° ƒë·ªì tu·∫ßn t·ª±, S∆° ƒë·ªì CSDL) v·ªÅ c∆° b·∫£n ƒë√£ ho√†n th√†nh. Gi·ªù l√† giai ƒëo·∫°n "C√†i ƒë·∫∑t" (Implementation).

Tuy nhi√™n, kh·ªëi l∆∞·ª£ng c√¥ng vi·ªác n√†y (3 ·ª©ng d·ª•ng: Backend, Web, Mobile) ƒë∆∞·ª£c thi·∫øt k·∫ø cho 3 ng∆∞·ªùi l√†m trong 12 tu·∫ßn. Vi·ªác b·∫°n th·ª±c hi·ªán m·ªôt m√¨nh trong 4 ng√†y (t·ª´ 10/11 ƒë·∫øn h·∫øt 13/11) l√† m·ªôt th·ª≠ th√°ch **c·ª±c k·ª≥ √°p l·ª±c**, g·∫ßn nh∆∞ l√† m·ªôt cu·ªôc thi "hackathon".

ƒê√¢y l√† k·∫ø ho·∫°ch chi ti·∫øt, c√≥ th·ª© t·ª±, ƒë∆∞·ª£c t·ªëi ∆∞u h√≥a ƒë·ªÉ b·∫°n c√≥ th·ªÉ ho√†n th√†nh m·ªôt phi√™n b·∫£n **L√µi (Core/MVP)** c·ªßa d·ª± √°n trong 4 ng√†y. Ch√∫ng ta ph·∫£i ch·∫•p nh·∫≠n b·ªè qua m·ªôt s·ªë t√≠nh nƒÉng ph·ª• (nh∆∞ Th·ªëng k√™ ph·ª©c t·∫°p, Qu·∫£n l√Ω khuy·∫øn m√£i) v√† t·∫≠p trung v√†o lu·ªìng ch√≠nh.

---

## üöÄ K·∫ø ho·∫°ch Hackathon 4 Ng√†y: H·ªá th·ªëng Qu·∫£n l√Ω Ph√≤ng kh√°m

**C√¥ng ngh·ªá c·ªßa b·∫°n:**
* **Backend:** ASP.NET Core Web API
* **Frontend Web:** Next.js
* **Frontend Mobile:** Flutter
* **Database:** SQL Server
* **Chatbot:** Gemini API

### Ng√†y 1 (H√¥m nay, 10/11): N·ªÅn T·∫£ng ‚Äì Database & API (Auth)

**M·ª•c ti√™u:** CSDL ph·∫£i ch·∫°y ƒë∆∞·ª£c. API ph·∫£i c√≥ kh·∫£ nƒÉng x√°c th·ª±c ng∆∞·ªùi d√πng.

* **Bu·ªïi s√°ng (8:00 - 12:00): Database Foundation**
    1.  **T·∫°o CSDL (SQL Server):** D·ª±a v√†o **"M√¥ h√¨nh d·ªØ li·ªáu quan h·ªá"** (file `plantuml.png`).
    2.  Vi·∫øt script `CREATE TABLE` cho *t·∫•t c·∫£* c√°c b·∫£ng: `Patient`, `Doctor`, `Appointment`, `Specialty`, `WorkShift`, `MedicalRecord`, `Service`, `Payment`, `Feedback`, v.v.
    3.  **Quan tr·ªçng:** Thi·∫øt l·∫≠p t·∫•t c·∫£ c√°c Kh√≥a ch√≠nh (PK) v√† Kh√≥a ngo·∫°i (FK) ch√≠nh x√°c.
    4.  **Seed Data (D·ªØ li·ªáu m·ªìi):** Th√™m d·ªØ li·ªáu m·∫´u th·ªß c√¥ng:
        * 1 t√†i kho·∫£n `Admin` (trong `UserAccount` ho·∫∑c b·∫£ng ri√™ng).
        * 2 `Specialty` (VD: Tim m·∫°ch, Da li·ªÖu).
        * 3 `Doctor` (g·∫Øn v·ªõi 2 chuy√™n khoa tr√™n).
        * 4 `Service` (VD: Kh√°m t·ªïng qu√°t, X√©t nghi·ªám m√°u).

* **Bu·ªïi chi·ªÅu (13:30 - 17:30): Backend API Setup**
    1.  **Kh·ªüi t·∫°o Project:** T·∫°o m·ªôt gi·∫£i ph√°p (Solution) ASP.NET Core Web API.
    2.  **C√†i ƒë·∫∑t G√≥i:** C√†i ƒë·∫∑t `Microsoft.EntityFrameworkCore.SqlServer`, `Microsoft.AspNetCore.Authentication.JwtBearer` (cho JWT).
    3.  **T·∫°o Models & DbContext:**
        * **C√°ch nhanh nh·∫•t:** D√πng l·ªánh `dotnet ef dbcontext scaffold` ƒë·ªÉ t·ª± ƒë·ªông t·∫°o Models v√† DbContext t·ª´ CSDL b·∫°n v·ª´a t·∫°o ·ªü Bu·ªïi s√°ng.
    4.  **T·∫°o Services (T·∫ßng nghi·ªáp v·ª•):** T·∫°o c·∫•u tr√∫c `Services` / `Repositories` (VD: `IAuthService`, `AuthService`).

* **Bu·ªïi t·ªëi (19:00 - 23:00+): Ch·ª©c nƒÉng API L√µi - X√°c th·ª±c (Auth)**
    1.  **Tri·ªÉn khai `AuthService`:**
        * Logic ƒêƒÉng k√Ω (Register): T·∫°o `Patient` m·ªõi, hash m·∫≠t kh·∫©u, l∆∞u v√†o DB.
        * Logic ƒêƒÉng nh·∫≠p (Login): Ki·ªÉm tra `username`/`password`, t·∫°o JWT Token.
    2.  **T·∫°o `AuthController`:** T·∫°o 2 endpoints: `/api/auth/register` v√† `/api/auth/login`.
    3.  **C·∫•u h√¨nh JWT:** C·∫•u h√¨nh x√°c th·ª±c JWT trong `Program.cs`.
    4.  **Ki·ªÉm th·ª≠:** D√πng Postman ho·∫∑c Thunder Client (VS Code) ƒë·ªÉ g·ªçi th·ª≠ API Register v√† Login.
    5.  **M·ª•c ti√™u cu·ªëi ng√†y:** Ph·∫£i l·∫•y ƒë∆∞·ª£c Token t·ª´ API.

---

### Ng√†y 2 (11/11): Lu·ªìng Admin & B·∫Øt ƒë·∫ßu Frontend Web

**M·ª•c ti√™u:** Admin c√≥ th·ªÉ qu·∫£n l√Ω c√°c danh m·ª•c c·ªët l√µi (B√°c sƒ©, D·ªãch v·ª•) tr√™n ·ª©ng d·ª•ng Web.

* **Bu·ªïi s√°ng (8:00 - 12:00): Backend API - Lu·ªìng Admin**
    1.  **T·∫°o `DoctorsController`:**
        * `GET /api/doctors`: L·∫•y danh s√°ch b√°c sƒ© (c√≥ th·ªÉ l·ªçc theo chuy√™n khoa).
        * `POST /api/doctors`: Th√™m b√°c sƒ© m·ªõi (d·ª±a tr√™n s∆° ƒë·ªì `MHThemBacSi`).
        * `PUT /api/doctors/{id}`: C·∫≠p nh·∫≠t th√¥ng tin b√°c sƒ©.
    2.  **T·∫°o `ServicesController`:**
        * `GET /api/services`: L·∫•y danh s√°ch d·ªãch v·ª•.
        * `POST /api/services`: Th√™m d·ªãch v·ª• m·ªõi (d·ª±a tr√™n s∆° ƒë·ªì `MHThemDichVu`).
    3.  **T·∫°o `ScheduleController`:**
        * `POST /api/schedule/workshift`: Th√™m ca l√†m vi·ªác (`WorkShift`) cho b√°c sƒ©.
        * `GET /api/schedule/workshift/{doctorId}`: L·∫•y ca l√†m vi·ªác c·ªßa 1 b√°c sƒ©.
    4.  **B·∫£o v·ªá Endpoints:** Th√™m `[Authorize(Roles = "Admin")]` cho t·∫•t c·∫£ c√°c endpoints n√†y.
    5.  **Ki·ªÉm th·ª≠:** D√πng Postman (g·∫Øn Token Admin ƒë√£ l·∫•y h√¥m qua) ƒë·ªÉ test CRUD.

* **Bu·ªïi chi·ªÅu (13:30 - 17:30): Frontend Web (Next.js) - Setup & Auth**
    1.  **Kh·ªüi t·∫°o Project:** `npx create-next-app@latest` (ch·ªçn TypeScript).
    2.  **C√†i ƒë·∫∑t:** C√†i `axios` (ƒë·ªÉ g·ªçi API), `tailwindscss` (ƒë·ªÉ l√†m UI nhanh), `react-hot-toast` (cho th√¥ng b√°o).
    3.  **C·∫•u tr√∫c th∆∞ m·ª•c:** T·∫°o `pages`, `components`, `services`, `hooks`, `contexts`.
    4.  **T·∫°o `AuthContext`:** T·∫°o m·ªôt Context ƒë·ªÉ qu·∫£n l√Ω state (token, user info) to√†n c·ª•c.
    5.  **T·∫°o Trang:** T·∫°o 2 trang `pages/login.js` v√† `pages/register.js`.
    6.  **G·ªçi API:** X√¢y d·ª±ng form Login/Register, g·ªçi API (t·ª´ `AuthController`) b·∫±ng `axios`, l∆∞u token v√†o `localStorage` v√† `AuthContext`.

* **Bu·ªïi t·ªëi (19:00 - 23:00+): Frontend Web (Next.js) - Lu·ªìng Admin**
    1.  **T·∫°o Private Route:** T·∫°o m·ªôt component `AdminLayout` ho·∫∑c HOC (`withAuth`) ƒë·ªÉ ki·ªÉm tra `user.role === 'Admin'`.
    2.  **Trang Qu·∫£n l√Ω B√°c sƒ©:**
        * T·∫°o trang `pages/admin/doctors.js`.
        * D√πng `useEffect` g·ªçi API `GET /api/doctors` v√† hi·ªÉn th·ªã ra b·∫£ng.
        * T·∫°o 1 Modal/Form (d·ª±a tr√™n `MHThemBacSi`) ƒë·ªÉ g·ªçi API `POST /api/doctors`.
    3.  **Trang Qu·∫£n l√Ω D·ªãch v·ª•:** T∆∞∆°ng t·ª±, t·∫°o `pages/admin/services.js` (d·ª±a tr√™n `MHThemDichVu`).
    4.  **Trang Qu·∫£n l√Ω L·ªãch l√†m vi·ªác:** (N·∫øu c√≤n th·ªùi gian) T·∫°o form ƒë∆°n gi·∫£n ƒë·ªÉ th√™m `WorkShift` cho b√°c sƒ©.

---

### Ng√†y 3 (12/11): Lu·ªìng B·ªánh nh√¢n & B√°c sƒ© (Web)

**M·ª•c ti√™u:** Ho√†n th√†nh lu·ªìng nghi·ªáp v·ª• ch√≠nh: B·ªánh nh√¢n ƒê·∫∑t l·ªãch, B√°c sƒ© C·∫≠p nh·∫≠t b·ªánh √°n.

* **Bu·ªïi s√°ng (8:00 - 12:00): Backend API - Lu·ªìng ƒê·∫∑t l·ªãch & Kh√°m b·ªánh**
    1.  **T·∫°o `BookingController` (cho Patient):**
        * `GET /api/booking/specialties`: L·∫•y danh s√°ch chuy√™n khoa.
        * `GET /api/booking/doctors/{specialtyId}`: L·∫•y b√°c sƒ© theo chuy√™n khoa.
        * `GET /api/booking/slots/{doctorId}/{date}`: **Logic quan tr·ªçng** - L·∫•y c√°c ca l√†m vi·ªác (`WorkShift`) tr·ª´ ƒëi c√°c l·ªãch ƒë√£ ƒë·∫∑t (`Appointment`) ƒë·ªÉ ra slot r·∫£nh.
        * `POST /api/booking/appointments`: B·ªánh nh√¢n t·∫°o l·ªãch h·∫πn m·ªõi (d·ª±a tr√™n `MHDatLich`). C·∫ßn `[Authorize(Roles = "Patient")]`.
    2.  **T·∫°o `MedicalController` (cho Doctor):**
        * `GET /api/medical/appointments`: L·∫•y l·ªãch kh√°m h√¥m nay/tu·∫ßn cho b√°c sƒ© (d·ª±a tr√™n `MHXemLichLamViec`). C·∫ßn `[Authorize(Roles = "Doctor")]`.
        * `POST /api/medical/records`: B√°c sƒ© c·∫≠p nh·∫≠t b·ªánh √°n (t·∫°o `MedicalRecord`) v√† k·∫øt qu·∫£ XN (t·∫°o `LabResult`) cho 1 `Appointment`.

* **Bu·ªïi chi·ªÅu (13:30 - 17:30): Frontend Web (Next.js) - Lu·ªìng B·ªánh nh√¢n**
    1.  **Trang ƒê·∫∑t L·ªãch (Trang ch·ªß):**
        * Hi·ªÉn th·ªã danh s√°ch Chuy√™n khoa / B√°c sƒ© (g·ªçi API `GET`).
        * X√¢y d·ª±ng lu·ªìng 3 b∆∞·ªõc:
            1.  Ch·ªçn B√°c sƒ© & Ng√†y.
            2.  Hi·ªÉn th·ªã c√°c slot r·∫£nh (g·ªçi API `GET /api/booking/slots/...`).
            3.  Click ch·ªçn slot, ƒëi·ªÅn th√¥ng tin -> G·ªçi `POST /api/booking/appointments`.
    2.  **Trang L·ªãch s·ª≠ kh√°m:**
        * T·∫°o `pages/patient/history.js`.
        * Hi·ªÉn th·ªã danh s√°ch c√°c `Appointments` c·ªßa b·ªánh nh√¢n (th√™m 1 API `GET /api/booking/my-appointments` cho Patient).

* **Bu·ªïi t·ªëi (19:00 - 23:00+): Frontend Web (Next.js) - Lu·ªìng B√°c sƒ©**
    1.  **T·∫°o `DoctorLayout`:** Private Route cho B√°c sƒ©.
    2.  **Trang L·ªãch kh√°m:**
        * T·∫°o `pages/doctor/schedule.js`.
        * Hi·ªÉn th·ªã danh s√°ch l·ªãch kh√°m h√¥m nay (g·ªçi API `GET /api/medical/appointments`).
    3.  **Trang C·∫≠p nh·∫≠t B·ªánh √°n:**
        * Click v√†o 1 l·ªãch kh√°m -> M·ªü trang `pages/doctor/record/{appointmentId}.js`.
        * T·∫°o form (d·ª±a tr√™n `MHThemKetQuaXN` v√† `MedicalRecord`): Nh·∫≠p Tri·ªáu ch·ª©ng, Ch·∫©n ƒëo√°n, K·∫øt qu·∫£ XN.
        * Nh·∫•n L∆∞u -> G·ªçi API `POST /api/medical/records`.

---

### Ng√†y 4 (13/11): Ho√†n thi·ªán (Payment, Chatbot, Mobile)

**M·ª•c ti√™u:** T√≠ch h·ª£p c√°c t√≠nh nƒÉng "n√¢ng cao" (Chatbot, Payment) v√† "ch·ª©ng minh" (PoC) ƒë∆∞·ª£c ·ª©ng d·ª•ng Mobile.

* **Bu·ªïi s√°ng (8:00 - 12:00): Backend API - C√°c t√≠nh nƒÉng cu·ªëi**
    1.  **T·∫°o `PaymentController`:**
        * `POST /api/payment/create`: (Gi·∫£ l·∫≠p) T·∫°o 1 `Payment` (H√≥a ƒë∆°n) cho 1 `Appointment`.
        * `PUT /api/payment/confirm/{paymentId}`: (Gi·∫£ l·∫≠p) C·∫≠p nh·∫≠t tr·∫°ng th√°i `Payment` = "Paid". (D·ª±a tr√™n `MHThanhToan`).
    2.  **T·∫°o `FeedbackController`:**
        * `POST /api/feedback`: B·ªánh nh√¢n g·ª≠i ƒë√°nh gi√° (d·ª±a tr√™n `MHFeedback`).
    3.  **T·∫°o `ChatbotController`:**
        * `POST /api/chatbot/ask`: Nh·∫≠n 1 `question` (String).
        * B√™n trong: G·ªçi ƒë·∫øn Gemini API (s·ª≠ d·ª•ng SDK c·ªßa Google) v·ªõi m·ªôt "prompt" (c√¢u l·ªánh) ƒë√£ ƒë·ªãnh nghƒ©a tr∆∞·ªõc (VD: "B·∫°n l√† tr·ª£ l√Ω y t·∫ø c·ªßa ph√≤ng kh√°m X, ch·ªâ tr·∫£ l·ªùi c√°c c√¢u h·ªèi v·ªÅ s·ª©c kh·ªèe...").
        * Tr·∫£ v·ªÅ c√¢u tr·∫£ l·ªùi c·ªßa Gemini.

* **Bu·ªïi chi·ªÅu (13:30 - 17:30): Frontend Web (Next.js) - T√≠ch h·ª£p**
    1.  **Lu·ªìng Thanh to√°n:** Sau khi ƒë·∫∑t l·ªãch th√†nh c√¥ng, chuy·ªÉn h∆∞·ªõng ƒë·∫øn trang `pages/payment/{appointmentId}`. Hi·ªÉn th·ªã th√¥ng tin, c√≥ 1 n√∫t "Thanh to√°n (Gi·∫£ l·∫≠p)". Nh·∫•n n√∫t -> g·ªçi API `PUT /api/payment/confirm/...`.
    2.  **Lu·ªìng ƒê√°nh gi√°:** Trong trang "L·ªãch s·ª≠ kh√°m", th√™m 1 n√∫t "ƒê√°nh gi√°" b√™n c·∫°nh l·ªãch kh√°m ƒë√£ ho√†n th√†nh. M·ªü Modal (d·ª±a tr√™n `MHFeedback`) -> G·ªçi API `POST /api/feedback`.
    3.  **T√≠ch h·ª£p Chatbot:** T·∫°o 1 component `ChatbotBubble` (n√∫t tr√≤n n·ªïi) ·ªü g√≥c m√†n h√¨nh. Click -> M·ªü c·ª≠a s·ªï chat. Nh·∫≠p c√¢u h·ªèi -> g·ªçi API `POST /api/chatbot/ask` -> Hi·ªÉn th·ªã k·∫øt qu·∫£.

* **Bu·ªïi t·ªëi (19:00 - 23:00+): Frontend Mobile (Flutter) - PoC**
    1.  **M·ª•c ti√™u:** Ch·ª©ng minh Flutter c√≥ th·ªÉ k·∫øt n·ªëi v√† t√°i s·ª≠ d·ª•ng API ƒë√£ x√¢y d·ª±ng.
    2.  **Kh·ªüi t·∫°o Project:** `flutter create clinic_app`.
    3.  **C√†i ƒë·∫∑t:** `http` (g·ªçi API), `provider` (qu·∫£n l√Ω state), `shared_preferences` (l∆∞u token).
    4.  **M√†n h√¨nh Login:** T·∫°o `login_screen.dart`. T·∫°o Form, g·ªçi API `POST /api/auth/login`. L∆∞u token v√†o `shared_preferences`.
    5.  **M√†n h√¨nh Home (ƒê∆°n gi·∫£n):** T·∫°o `home_screen.dart`.
    6.  G·ªçi (v·ªõi Token ƒë√£ l∆∞u) API `GET /api/booking/doctors` (t√°i s·ª≠ d·ª•ng API c·ªßa Web) v√† hi·ªÉn th·ªã ra m·ªôt `ListView` ƒë∆°n gi·∫£n.

---

### L·ªùi khuy√™n s·ªëng c√≤n:

1.  **ƒê·ª´ng c·∫ßu to√†n:** Giao di·ªán kh√¥ng c·∫ßn ƒë·∫πp, ch·ªâ c·∫ßn ƒë√∫ng ch·ª©c nƒÉng. D√πng component UI d·ª±ng s·∫µn (TailwindUI, shadcn/ui) n·∫øu c√≥ th·ªÉ.
2.  **B·ªè qua c√°i ph·ª•:** C√°c t√≠nh nƒÉng nh∆∞ *Th·ªëng k√™* (Dashboard), *Qu·∫£n l√Ω Khuy·∫øn m√£i*, *Backup/Restore* (m·ª•c 6 trong ƒë·ªÅ c∆∞∆°ng) l√† **kh√¥ng th·ªÉ** l√†m trong 4 ng√†y. N·∫øu b·ªã h·ªèi, h√£y n√≥i "ƒê√¢y l√† c√°c t√≠nh nƒÉng s·∫Ω ph√°t tri·ªÉn trong giai ƒëo·∫°n 2".
3.  **T√°i s·ª≠ d·ª•ng t·ªëi ƒëa:** API ph·∫£i ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ c·∫£ Web (Next.js) v√† Mobile (Flutter) c√πng g·ªçi.
4.  **M√¥ ph·ªèng (Mock):** N·∫øu m·ªôt logic qu√° ph·ª©c t·∫°p (VD: t√≠nh to√°n slot r·∫£nh ch√≠nh x√°c tuy·ªát ƒë·ªëi, t√≠ch h·ª£p c·ªïng thanh to√°n th·∫≠t), h√£y *gi·∫£ l·∫≠p* n√≥. (VD: C·ª© tr·∫£ v·ªÅ 3 slot r·∫£nh, thanh to√°n ch·ªâ l√† c·∫≠p nh·∫≠t 1 tr∆∞·ªùng `status`).

Ch√∫c b·∫°n may m·∫Øn. ƒê√¢y s·∫Ω l√† 4 ng√†y kh√¥ng ng·ªß!
Ch√†o b·∫°n, tuy·ªát v·ªùi! ƒê√≥ ch√≠nh l√† tinh th·∫ßn c·ªßa m·ªôt "hackathon". N·∫øu b·∫°n ho√†n th√†nh ƒë∆∞·ª£c to√†n b·ªô ph·∫ßn l√µi (MVP) m√† ch√∫ng ta ƒë√£ v·∫°ch ra trong 4 ng√†y, th√¨ ƒë√≥ th·ª±c s·ª± l√† m·ªôt th√†nh c√¥ng phi th∆∞·ªùng.

ƒê√∫ng nh∆∞ b·∫°n n√≥i, n·∫øu b·∫°n c√≤n th·ªùi gian, ch√∫ng ta s·∫Ω ngay l·∫≠p t·ª©c tri·ªÉn khai c√°c "G√≥i N√¢ng C·∫•p" (Feature Packs) n√†y. ƒê√¢y l√† c√°c task (nhi·ªám v·ª•) cho c√°c t√≠nh nƒÉng ph·ª•, l·∫•y t·ª´ ch√≠nh ƒë·ªÅ c∆∞∆°ng (KLCN_TH153) c·ªßa b·∫°n, ƒë∆∞·ª£c s·∫Øp x·∫øp theo th·ª© t·ª± ∆∞u ti√™n ƒë·ªÉ ho√†n thi·ªán s·∫£n ph·∫©m.

---

### üöÄ G√≥i N√¢ng C·∫•p 1: Ho√†n thi·ªán V√≤ng l·∫∑p B·ªánh nh√¢n & Admin

M·ª•c ti√™u l√† ho√†n thi·ªán c√°c t√≠nh nƒÉng ƒë√£ b·∫Øt ƒë·∫ßu nh∆∞ng ch∆∞a kh√©p k√≠n v√≤ng l·∫∑p (B·ªánh nh√¢n g·ª≠i feedback, B√°c sƒ© nh·∫≠p k·∫øt qu·∫£ XN, nh∆∞ng Admin/B·ªánh nh√¢n ch∆∞a xem ƒë∆∞·ª£c).

1.  **Admin: Qu·∫£n l√Ω & Ph·∫£n h·ªìi ƒê√°nh gi√°** (Y√™u c·∫ßu ƒë·ªÅ c∆∞∆°ng: *Ti·∫øp nh·∫≠n v√† ph·∫£n h·ªìi ƒë√°nh gi√°*)
    * **Backend (API):**
        * `GET /api/feedback`: (Admin) L·∫•y t·∫•t c·∫£ `Feedback` (c√≥ th·ªÉ ph√¢n trang).
        * `PUT /api/feedback/reply/{id}`: (Admin) G·ª≠i m·ªôt n·ªôi dung ph·∫£n h·ªìi (c·∫≠p nh·∫≠t 1 tr∆∞·ªùng `reply_text` trong b·∫£ng `Feedback`).
    * **Frontend (Next.js - Admin):**
        * T·∫°o trang `pages/admin/feedback.js`.
        * Hi·ªÉn th·ªã danh s√°ch ƒë√°nh gi√°, c√≥ √¥ ƒë·ªÉ nh·∫≠p n·ªôi dung tr·∫£ l·ªùi v√† n√∫t G·ª≠i.

2.  **B·ªánh nh√¢n: Tra c·ª©u K·∫øt qu·∫£ X√©t nghi·ªám** (Y√™u c·∫ßu: *Tra c·ª©u... k·∫øt qu·∫£ x√©t nghi·ªám*)
    * **Backend (API):**
        * `GET /api/patient/my-records/{appointmentId}`: (Patient) L·∫•y chi ti·∫øt `MedicalRecord` V√Ä c√°c `LabResult` li√™n quan ƒë·∫øn l·ªãch h·∫πn ƒë√≥.
    * **Frontend (Next.js - Patient):**
        * Trong trang `pages/patient/history.js`, th√™m 1 n√∫t "Xem K·∫øt qu·∫£" b√™n c·∫°nh m·ªói l·ªãch h·∫πn ƒë√£ ho√†n th√†nh.
        * Click v√†o s·∫Ω m·ªü Modal ho·∫∑c trang m·ªõi, hi·ªÉn th·ªã th√¥ng tin B·ªánh √°n (ch·∫©n ƒëo√°n) v√† K·∫øt qu·∫£ XN (n·∫øu c√≥).

3.  **B·ªánh nh√¢n: Qu·∫£n l√Ω T√†i kho·∫£n C√° nh√¢n** (Y√™u c·∫ßu: *Qu·∫£n l√Ω t√†i kho·∫£n*)
    * **Backend (API):**
        * `PUT /api/patient/profile`: (Patient) Cho ph√©p c·∫≠p nh·∫≠t th√¥ng tin c√° nh√¢n (ƒë·ªãa ch·ªâ, SƒêT, v.v.).
        * `POST /api/auth/change-password`: (Patient) ƒê·ªïi m·∫≠t kh·∫©u (y√™u c·∫ßu m·∫≠t kh·∫©u c≈©, m·∫≠t kh·∫©u m·ªõi).
    * **Frontend (Next.js - Patient):**
        * T·∫°o trang `pages/profile.js` v·ªõi c√°c form ƒë·ªÉ c·∫≠p nh·∫≠t th√¥ng tin.

---

### üöÄ G√≥i N√¢ng C·∫•p 2: Ho√†n thi·ªán ·ª®ng d·ª•ng Mobile (Flutter)

M·ª•c ti√™u l√† bi·∫øn ·ª©ng d·ª•ng Flutter t·ª´ "Proof-of-Concept" (ch·ªâ Login/Xem DS) th√†nh m·ªôt ·ª©ng d·ª•ng c√≥ th·ªÉ s·ª≠ d·ª•ng ƒë∆∞·ª£c.

1.  **Flutter: Tri·ªÉn khai Lu·ªìng ƒê·∫∑t l·ªãch**
    * T√°i s·ª≠ d·ª•ng 100% c√°c API c·ªßa lu·ªìng ƒë·∫∑t l·ªãch (Web) ƒë√£ l√†m ·ªü Ng√†y 3:
        * `GET /api/booking/specialties`
        * `GET /api/booking/doctors/{specialtyId}`
        * `GET /api/booking/slots/{doctorId}/{date}`
        * `POST /api/booking/appointments`
    * X√¢y d·ª±ng UI tr√™n Flutter cho c√°c b∆∞·ªõc ch·ªçn B√°c sƒ© -> Ch·ªçn Ng√†y -> Ch·ªçn Slot -> X√°c nh·∫≠n.

2.  **Flutter: L·ªãch s·ª≠ & K·∫øt qu·∫£ kh√°m**
    * T·∫°o m√†n h√¨nh "L·ªãch s·ª≠ kh√°m" (`history_screen.dart`).
    * T√°i s·ª≠ d·ª•ng API `GET /api/patient/my-appointments`.
    * T√°i s·ª≠ d·ª•ng API `GET /api/patient/my-records/{appointmentId}` ƒë·ªÉ hi·ªÉn th·ªã k·∫øt qu·∫£.

3.  **Flutter: T√≠ch h·ª£p Chatbot**
    * T·∫°o m√†n h√¨nh `chatbot_screen.dart`.
    * T√°i s·ª≠ d·ª•ng API `POST /api/chatbot/ask` (Gemini API).

---

### üöÄ G√≥i N√¢ng C·∫•p 3: T√≠nh nƒÉng "Kinh doanh" (Th·ªëng k√™ & Khuy·∫øn m√£i)

ƒê√¢y l√† c√°c t√≠nh nƒÉng ph·ª©c t·∫°p nh·∫•t v·ªÅ logic nghi·ªáp v·ª•.

1.  **Admin: Th·ªëng k√™ & B√°o c√°o** (Y√™u c·∫ßu: *Th·ªëng k√™ doanh thu, kh√°ch h√†ng...*)
    * **Backend (API):** ƒê√¢y l√† c√°c truy v·∫•n SQL ph·ª©c t·∫°p.
        * `GET /api/stats/revenue?from=...&to=...`: T√≠nh t·ªïng `totalAmount` t·ª´ b·∫£ng `Payment` (ƒë√£ `status`="Paid") theo kho·∫£ng th·ªùi gian.
        * `GET /api/stats/top-patients?limit=10`: ƒê·∫øm s·ªë `Appointment` (ƒë√£ ho√†n th√†nh), `GROUP BY patientId`, `ORDER BY COUNT DESC`.
    * **Frontend (Next.js - Admin):**
        * T·∫°o trang `pages/admin/dashboard.js`.
        * C√†i ƒë·∫∑t th∆∞ vi·ªán bi·ªÉu ƒë·ªì (v√≠ d·ª•: `Chart.js` ho·∫∑c `Recharts`).
        * G·ªçi API th·ªëng k√™ v√† v·∫Ω bi·ªÉu ƒë·ªì doanh thu, hi·ªÉn th·ªã Top 10 b·ªánh nh√¢n.

2.  **Admin: Qu·∫£n l√Ω Khuy·∫øn m√£i & T√≠ch ƒëi·ªÉm**
    * **Backend (API):**
        * CRUD API c∆° b·∫£n cho b·∫£ng `Promotion` v√† `LoyaltyPoints` (Admin).
    * **Backend (Logic):**
        * S·ª≠a API `POST /api/payment/create`: API n√†y gi·ªù ph·∫£i nh·∫≠n th√™m 1 `promoCode` (n·∫øu c√≥).
        * Server ph·∫£i ki·ªÉm tra `promoCode` c√≥ h·ª£p l·ªá kh√¥ng, t√≠nh to√°n l·∫°i `totalAmount` (t·ªïng ti·ªÅn) sau khi gi·∫£m gi√°.
        * Sau khi thanh to√°n th√†nh c√¥ng, ph·∫£i c·∫≠p nh·∫≠t ƒëi·ªÉm v√†o b·∫£ng `LoyaltyPoints`.
    * **Frontend (Next.js - Patient):**
        * Trong trang thanh to√°n, th√™m 1 √¥ "Nh·∫≠p m√£ khuy·∫øn m√£i".

---

H√£y b√°m s√°t k·∫ø ho·∫°ch 4 ng√†y. N·∫øu b·∫°n ho√†n th√†nh n√≥, h√£y b·∫Øt ƒë·∫ßu ngay v·ªõi **G√≥i N√¢ng C·∫•p 1**. Ch√∫c may m·∫Øn!